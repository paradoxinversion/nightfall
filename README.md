Based on http://rogueliketutorials.com/tutorials/tcod/